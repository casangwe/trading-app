{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\casan\\\\trading-app\\\\trading-frontend\\\\src\\\\components\\\\controllers\\\\financial\\\\SavingsGrowthChart.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { fetchFinancials } from \"../api/FinancialAPI\";\nimport { LineChart, Line, XAxis, Tooltip, ResponsiveContainer } from \"recharts\";\nimport { formatCash, formatDate } from \"../func/functions\";\nconst SavingsGrowthChart = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [chartData, setChartData] = useState([]);\n  const [savingsSummary, setSavingsSummary] = useState(null);\n  useEffect(() => {\n    const fetchSavingsData = async () => {\n      try {\n        const financials = await fetchFinancials();\n\n        // Sort data by date\n        const sortedData = financials.sort((a, b) => new Date(a.entry_date) - new Date(b.entry_date));\n        setChartData(formatChartData(sortedData));\n        setSavingsSummary(calculateSavingsSummary(sortedData));\n      } catch (error) {\n        setError(\"Error fetching savings data\");\n        console.error(\"Error fetching financials data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchSavingsData();\n  }, []);\n\n  // Function to calculate summary information for the latest savings values\n  const calculateSavingsSummary = data => {\n    const latestEntry = data[data.length - 1];\n    return {\n      latestDate: formatDate(latestEntry === null || latestEntry === void 0 ? void 0 : latestEntry.entry_date),\n      LTSS: (latestEntry === null || latestEntry === void 0 ? void 0 : latestEntry.LTSS) || 0,\n      FFA: (latestEntry === null || latestEntry === void 0 ? void 0 : latestEntry.FFA) || 0\n    };\n  };\n\n  // Format chart data\n  const formatChartData = data => {\n    return data.map(entry => ({\n      date: formatDate(entry.entry_date),\n      LTSS: parseFloat(entry.LTSS),\n      FFA: parseFloat(entry.FFA)\n    }));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"savings-growth-chart-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"summary-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"investment-cash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"LTSS: \", formatCash((savingsSummary === null || savingsSummary === void 0 ? void 0 : savingsSummary.LTSS) || 0)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"investment-cash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"FFA: \", formatCash((savingsSummary === null || savingsSummary === void 0 ? void 0 : savingsSummary.FFA) || 0)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"investment-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, (savingsSummary === null || savingsSummary === void 0 ? void 0 : savingsSummary.latestDate) || \"Loading...\")), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Loading...\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, error) : /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: 300,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LineChart, {\n    data: chartData,\n    style: {\n      background: \"transparent\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"date\",\n    tick: false,\n    axisLine: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    cursor: false,\n    content: ({\n      payload\n    }) => {\n      if (payload && payload.length) {\n        const {\n          date,\n          LTSS,\n          FFA\n        } = payload[0].payload;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"tooltip-content\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 23\n          }\n        }, \"LTSS: \", formatCash(LTSS)), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 23\n          }\n        }, \"FFA: \", formatCash(FFA)), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"invest-date\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 23\n          }\n        }, date));\n      }\n      return null;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"LTSS\",\n    stroke: \"#4a90e2\",\n    strokeWidth: 2,\n    dot: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"FFA\",\n    stroke: \"#50e3c2\",\n    strokeWidth: 2,\n    dot: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }))));\n};\nexport default SavingsGrowthChart;","map":{"version":3,"names":["React","useState","useEffect","fetchFinancials","LineChart","Line","XAxis","Tooltip","ResponsiveContainer","formatCash","formatDate","SavingsGrowthChart","loading","setLoading","error","setError","chartData","setChartData","savingsSummary","setSavingsSummary","fetchSavingsData","financials","sortedData","sort","a","b","Date","entry_date","formatChartData","calculateSavingsSummary","console","data","latestEntry","length","latestDate","LTSS","FFA","map","entry","date","parseFloat","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","width","height","style","background","dataKey","tick","axisLine","cursor","content","payload","type","stroke","strokeWidth","dot"],"sources":["C:/Users/casan/trading-app/trading-frontend/src/components/controllers/financial/SavingsGrowthChart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { fetchFinancials } from \"../api/FinancialAPI\";\r\nimport { LineChart, Line, XAxis, Tooltip, ResponsiveContainer } from \"recharts\";\r\nimport { formatCash, formatDate } from \"../func/functions\";\r\n\r\nconst SavingsGrowthChart = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [chartData, setChartData] = useState([]);\r\n  const [savingsSummary, setSavingsSummary] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchSavingsData = async () => {\r\n      try {\r\n        const financials = await fetchFinancials();\r\n\r\n        // Sort data by date\r\n        const sortedData = financials.sort(\r\n          (a, b) => new Date(a.entry_date) - new Date(b.entry_date)\r\n        );\r\n\r\n        setChartData(formatChartData(sortedData));\r\n        setSavingsSummary(calculateSavingsSummary(sortedData));\r\n      } catch (error) {\r\n        setError(\"Error fetching savings data\");\r\n        console.error(\"Error fetching financials data:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchSavingsData();\r\n  }, []);\r\n\r\n  // Function to calculate summary information for the latest savings values\r\n  const calculateSavingsSummary = (data) => {\r\n    const latestEntry = data[data.length - 1];\r\n    return {\r\n      latestDate: formatDate(latestEntry?.entry_date),\r\n      LTSS: latestEntry?.LTSS || 0,\r\n      FFA: latestEntry?.FFA || 0,\r\n    };\r\n  };\r\n\r\n  // Format chart data\r\n  const formatChartData = (data) => {\r\n    return data.map((entry) => ({\r\n      date: formatDate(entry.entry_date),\r\n      LTSS: parseFloat(entry.LTSS),\r\n      FFA: parseFloat(entry.FFA),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"savings-growth-chart-container\">\r\n      {/* Summary Section */}\r\n      <div className=\"summary-section\">\r\n        <p className=\"investment-cash\">\r\n          LTSS: {formatCash(savingsSummary?.LTSS || 0)}\r\n        </p>\r\n        <p className=\"investment-cash\">\r\n          FFA: {formatCash(savingsSummary?.FFA || 0)}\r\n        </p>\r\n        <p className=\"investment-date\">\r\n          {savingsSummary?.latestDate || \"Loading...\"}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Chart */}\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error}</div>\r\n      ) : (\r\n        <ResponsiveContainer width=\"100%\" height={300}>\r\n          <LineChart data={chartData} style={{ background: \"transparent\" }}>\r\n            <XAxis dataKey=\"date\" tick={false} axisLine={false} />\r\n            <Tooltip\r\n              cursor={false}\r\n              content={({ payload }) => {\r\n                if (payload && payload.length) {\r\n                  const { date, LTSS, FFA } = payload[0].payload;\r\n                  return (\r\n                    <div className=\"tooltip-content\">\r\n                      <p>LTSS: {formatCash(LTSS)}</p>\r\n                      <p>FFA: {formatCash(FFA)}</p>\r\n                      <p className=\"invest-date\">{date}</p>\r\n                    </div>\r\n                  );\r\n                }\r\n                return null;\r\n              }}\r\n            />\r\n            <Line\r\n              type=\"monotone\"\r\n              dataKey=\"LTSS\"\r\n              stroke=\"#4a90e2\"\r\n              strokeWidth={2}\r\n              dot={false}\r\n            />\r\n            <Line\r\n              type=\"monotone\"\r\n              dataKey=\"FFA\"\r\n              stroke=\"#50e3c2\"\r\n              strokeWidth={2}\r\n              dot={false}\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SavingsGrowthChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}