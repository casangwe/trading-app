{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\casan\\\\trading-app\\\\trading-frontend\\\\src\\\\components\\\\controllers\\\\misc\\\\UpdateMisc.js\";\nimport React, { useState } from \"react\";\nimport { updateMiscEntry } from \"./api\"; // Import the API function\n\nconst UpdateMisc = ({\n  misc,\n  onClose,\n  onSave\n}) => {\n  // Initialize form data with the existing values from the misc prop\n  const [formData, setFormData] = useState({\n    category: misc.category || \"\",\n    entry_date: misc.entry_date || \"\",\n    description: misc.description || \"\"\n  });\n  const [showUpdateButton, setShowUpdateButton] = useState(false);\n  const [isLoading, setIsLoading] = useState(false); // Add a loading state\n  const [error, setError] = useState(null); // Add error state\n\n  // Handle changes to form fields\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n    setShowUpdateButton(true);\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsLoading(true); // Set loading state\n    setError(null); // Reset error state\n\n    try {\n      await updateMiscEntry(misc.id, {\n        ...formData,\n        user_id: misc.user_id\n      });\n      onSave(misc.id, formData); // Call the onSave callback to update UI if needed\n      setShowUpdateButton(false);\n      onClose(); // Close the modal after successful update\n    } catch (error) {\n      setError(\"Failed to update entry. Please try again.\"); // Handle error\n      console.error(\"Update failed:\", error);\n    } finally {\n      setIsLoading(false); // Reset loading state\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Update Misc Entry\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"close-button\",\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"\\xD7\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"misc-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, \"ID:\"), \" \", misc.id), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, \"User ID:\"), \" \", misc.user_id), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Category:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"category\",\n    value: formData.category,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, \"Entry Date:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"entry_date\",\n    value: formData.entry_date,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"Description:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"description\",\n    value: formData.description,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  })), showUpdateButton && !isLoading && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSubmit,\n    className: \"update-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, \"Update\"), isLoading && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 27\n    }\n  }, \"Updating...\"), \" \", error && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }, error), \" \"))));\n};\nexport default UpdateMisc;","map":{"version":3,"names":["React","useState","updateMiscEntry","UpdateMisc","misc","onClose","onSave","formData","setFormData","category","entry_date","description","showUpdateButton","setShowUpdateButton","isLoading","setIsLoading","error","setError","handleChange","e","name","value","target","handleSubmit","preventDefault","id","user_id","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","onChange","required"],"sources":["C:/Users/casan/trading-app/trading-frontend/src/components/controllers/misc/UpdateMisc.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { updateMiscEntry } from \"./api\"; // Import the API function\r\n\r\nconst UpdateMisc = ({ misc, onClose, onSave }) => {\r\n  // Initialize form data with the existing values from the misc prop\r\n  const [formData, setFormData] = useState({\r\n    category: misc.category || \"\",\r\n    entry_date: misc.entry_date || \"\",\r\n    description: misc.description || \"\",\r\n  });\r\n  const [showUpdateButton, setShowUpdateButton] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false); // Add a loading state\r\n  const [error, setError] = useState(null); // Add error state\r\n\r\n  // Handle changes to form fields\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    });\r\n    setShowUpdateButton(true);\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true); // Set loading state\r\n    setError(null); // Reset error state\r\n\r\n    try {\r\n      await updateMiscEntry(misc.id, { ...formData, user_id: misc.user_id });\r\n      onSave(misc.id, formData); // Call the onSave callback to update UI if needed\r\n      setShowUpdateButton(false);\r\n      onClose(); // Close the modal after successful update\r\n    } catch (error) {\r\n      setError(\"Failed to update entry. Please try again.\"); // Handle error\r\n      console.error(\"Update failed:\", error);\r\n    } finally {\r\n      setIsLoading(false); // Reset loading state\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-container\">\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h2>Update Misc Entry</h2>\r\n          <button className=\"close-button\" onClick={onClose}>\r\n            &times;\r\n          </button>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n          <div className=\"misc-details\">\r\n            <p>\r\n              <strong>ID:</strong> {misc.id}\r\n            </p>\r\n            <p>\r\n              <strong>User ID:</strong> {misc.user_id}\r\n            </p>\r\n            <p>\r\n              <strong>Category:</strong>\r\n              <input\r\n                type=\"text\"\r\n                name=\"category\"\r\n                value={formData.category}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </p>\r\n            <p>\r\n              <strong>Entry Date:</strong>\r\n              <input\r\n                type=\"date\"\r\n                name=\"entry_date\"\r\n                value={formData.entry_date}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </p>\r\n            <p>\r\n              <strong>Description:</strong>\r\n              <input\r\n                type=\"text\"\r\n                name=\"description\"\r\n                value={formData.description}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </p>\r\n            {showUpdateButton && !isLoading && (\r\n              <button onClick={handleSubmit} className=\"update-button\">\r\n                Update\r\n              </button>\r\n            )}\r\n            {isLoading && <p>Updating...</p>} {/* Show loading state */}\r\n            {error && <p className=\"error\">{error}</p>}{\" \"}\r\n            {/* Show error message */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateMisc;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}