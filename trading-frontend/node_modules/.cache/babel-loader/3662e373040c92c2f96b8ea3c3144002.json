{"ast":null,"code":"const API_BASE_URL = \"http://localhost:8000\";\nconst getUserId = () => {\n  const userDataString = localStorage.getItem(\"user_data\");\n  if (!userDataString) {\n    console.error(\"No user data found in localStorage\");\n    return null;\n  }\n  try {\n    const userData = JSON.parse(userDataString);\n    return userData.sub;\n  } catch (error) {\n    console.error(\"Error parsing user data:\", error);\n    return null;\n  }\n};\nconst userId = getUserId();\nexport async function createDailyPNL(dailyPNLData) {\n  if (!userId) {\n    throw new Error(\"User ID is not available. Please log in.\");\n  }\n  const response = await fetch(`${API_BASE_URL}/daily_pnls/`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      ...dailyPNLData,\n      user_id: userId\n    })\n  });\n  const data = await response.json();\n  if (response.ok) {\n    console.log(\"Daily PNL added successfully:\", data);\n    return data;\n  } else {\n    console.error(\"Error adding Daily PNL:\", data);\n    throw new Error(data);\n  }\n}\nexport async function updateDailyPNL(dailyPNLData) {\n  if (!userId) {\n    throw new Error(\"User ID is not available. Please log in.\");\n  }\n  const response = await fetch(`${API_BASE_URL}/daily_pnls/`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      ...dailyPNLData,\n      user_id: userId\n    })\n  });\n  const data = await response.json();\n  if (response.ok) {\n    console.log(\"Daily PNL updated successfully:\", data);\n    return data;\n  } else {\n    console.error(\"Error updating Daily PNL:\", data);\n    throw new Error(data);\n  }\n}\nexport const getDailyPNL = async () => {\n  if (!userId) {\n    throw new Error(\"User ID is not available. Please log in.\");\n  }\n  const response = await fetch(`${API_BASE_URL}/daily_pnls/${userId}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  if (!response.ok) {\n    throw new Error(\"Error fetching Daily PNL data\");\n  }\n  return await response.json();\n};","map":{"version":3,"names":["API_BASE_URL","getUserId","userDataString","localStorage","getItem","console","error","userData","JSON","parse","sub","userId","createDailyPNL","dailyPNLData","Error","response","fetch","method","headers","body","stringify","user_id","data","json","ok","log","updateDailyPNL","getDailyPNL"],"sources":["C:/Users/casan/trading-app/trading-frontend/src/components/controllers/api/DailyPNLApi.js"],"sourcesContent":["const API_BASE_URL = \"http://localhost:8000\";\r\n\r\nconst getUserId = () => {\r\n  const userDataString = localStorage.getItem(\"user_data\");\r\n  if (!userDataString) {\r\n    console.error(\"No user data found in localStorage\");\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const userData = JSON.parse(userDataString);\r\n    return userData.sub;\r\n  } catch (error) {\r\n    console.error(\"Error parsing user data:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst userId = getUserId();\r\n\r\nexport async function createDailyPNL(dailyPNLData) {\r\n  if (!userId) {\r\n    throw new Error(\"User ID is not available. Please log in.\");\r\n  }\r\n\r\n  const response = await fetch(`${API_BASE_URL}/daily_pnls/`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      ...dailyPNLData,\r\n      user_id: userId,\r\n    }),\r\n  });\r\n\r\n  const data = await response.json();\r\n  if (response.ok) {\r\n    console.log(\"Daily PNL added successfully:\", data);\r\n    return data;\r\n  } else {\r\n    console.error(\"Error adding Daily PNL:\", data);\r\n    throw new Error(data);\r\n  }\r\n}\r\n\r\nexport async function updateDailyPNL(dailyPNLData) {\r\n  if (!userId) {\r\n    throw new Error(\"User ID is not available. Please log in.\");\r\n  }\r\n\r\n  const response = await fetch(`${API_BASE_URL}/daily_pnls/`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      ...dailyPNLData,\r\n      user_id: userId,\r\n    }),\r\n  });\r\n\r\n  const data = await response.json();\r\n  if (response.ok) {\r\n    console.log(\"Daily PNL updated successfully:\", data);\r\n    return data;\r\n  } else {\r\n    console.error(\"Error updating Daily PNL:\", data);\r\n    throw new Error(data);\r\n  }\r\n}\r\n\r\nexport const getDailyPNL = async () => {\r\n  if (!userId) {\r\n    throw new Error(\"User ID is not available. Please log in.\");\r\n  }\r\n\r\n  const response = await fetch(`${API_BASE_URL}/daily_pnls/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(\"Error fetching Daily PNL data\");\r\n  }\r\n\r\n  return await response.json();\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,uBAAuB;AAE5C,MAAMC,SAAS,GAAGA,CAAA,KAAM;EACtB,MAAMC,cAAc,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EACxD,IAAI,CAACF,cAAc,EAAE;IACnBG,OAAO,CAACC,KAAK,CAAC,oCAAoC,CAAC;IACnD,OAAO,IAAI;EACb;EAEA,IAAI;IACF,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACP,cAAc,CAAC;IAC3C,OAAOK,QAAQ,CAACG,GAAG;EACrB,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACdD,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,OAAO,IAAI;EACb;AACF,CAAC;AAED,MAAMK,MAAM,GAAGV,SAAS,CAAC,CAAC;AAE1B,OAAO,eAAeW,cAAcA,CAACC,YAAY,EAAE;EACjD,IAAI,CAACF,MAAM,EAAE;IACX,MAAM,IAAIG,KAAK,CAAC,0CAA0C,CAAC;EAC7D;EAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEhB,YAAa,cAAa,EAAE;IAC1DiB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEX,IAAI,CAACY,SAAS,CAAC;MACnB,GAAGP,YAAY;MACfQ,OAAO,EAAEV;IACX,CAAC;EACH,CAAC,CAAC;EAEF,MAAMW,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAClC,IAAIR,QAAQ,CAACS,EAAE,EAAE;IACfnB,OAAO,CAACoB,GAAG,CAAC,+BAA+B,EAAEH,IAAI,CAAC;IAClD,OAAOA,IAAI;EACb,CAAC,MAAM;IACLjB,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEgB,IAAI,CAAC;IAC9C,MAAM,IAAIR,KAAK,CAACQ,IAAI,CAAC;EACvB;AACF;AAEA,OAAO,eAAeI,cAAcA,CAACb,YAAY,EAAE;EACjD,IAAI,CAACF,MAAM,EAAE;IACX,MAAM,IAAIG,KAAK,CAAC,0CAA0C,CAAC;EAC7D;EAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEhB,YAAa,cAAa,EAAE;IAC1DiB,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEX,IAAI,CAACY,SAAS,CAAC;MACnB,GAAGP,YAAY;MACfQ,OAAO,EAAEV;IACX,CAAC;EACH,CAAC,CAAC;EAEF,MAAMW,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAClC,IAAIR,QAAQ,CAACS,EAAE,EAAE;IACfnB,OAAO,CAACoB,GAAG,CAAC,iCAAiC,EAAEH,IAAI,CAAC;IACpD,OAAOA,IAAI;EACb,CAAC,MAAM;IACLjB,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEgB,IAAI,CAAC;IAChD,MAAM,IAAIR,KAAK,CAACQ,IAAI,CAAC;EACvB;AACF;AAEA,OAAO,MAAMK,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,IAAI,CAAChB,MAAM,EAAE;IACX,MAAM,IAAIG,KAAK,CAAC,0CAA0C,CAAC;EAC7D;EAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEhB,YAAa,eAAcW,MAAO,EAAC,EAAE;IACnEM,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC,CAAC;EAEF,IAAI,CAACH,QAAQ,CAACS,EAAE,EAAE;IAChB,MAAM,IAAIV,KAAK,CAAC,+BAA+B,CAAC;EAClD;EAEA,OAAO,MAAMC,QAAQ,CAACQ,IAAI,CAAC,CAAC;AAC9B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}